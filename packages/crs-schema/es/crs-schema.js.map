{"version":3,"file":"crs-schema.js","sources":["../../src/schema.js"],"sourcesContent":["export async function createSchemaLoader(parser) {\r\n    const result = new Schema(parser);\r\n    await result.parser.initialize();\r\n    return result;\r\n}\r\n\r\nif (typeof self != \"undefined\") {\r\n    self.crs = self.crs || {};\r\n    self.crs.createSchemaLoader = createSchemaLoader;\r\n}\r\n\r\nclass Schema {\r\n    constructor(parser) {\r\n        this.parser = parser;\r\n    }\r\n\r\n    async dispose() {\r\n        await this.parser.dispose();\r\n        this.parser = null;\r\n    }\r\n\r\n    async validate(schema) {\r\n        const errors = [];\r\n        await this.parser.validate(schema, errors);\r\n        return errors;\r\n    }\r\n\r\n    async parse(schema) {\r\n        return await this.parser.parse(schema);\r\n    }\r\n\r\n    async load(libraries) {\r\n        await this.parser.load(libraries);\r\n    }\r\n\r\n    async register(plugin) {\r\n        await this.parser.register(plugin);\r\n    }\r\n}\r\n"],"names":["async","createSchemaLoader","parser","result","Schema","initialize","self","crs","[object Object]","this","dispose","schema","errors","validate","parse","libraries","load","plugin","register"],"mappings":"AAAOA,eAAeC,EAAmBC,GACrC,MAAMC,EAAS,IAAIC,EAAOF,GAE1B,aADMC,EAAOD,OAAOG,aACbF,EAGQ,oBAARG,OACPA,KAAKC,IAAMD,KAAKC,KAAO,GACvBD,KAAKC,IAAIN,mBAAqBA,GAGlC,MAAMG,EACFI,YAAYN,GACRO,KAAKP,OAASA,EAGlBM,sBACUC,KAAKP,OAAOQ,UAClBD,KAAKP,OAAS,KAGlBM,eAAeG,GACX,MAAMC,EAAS,GAEf,aADMH,KAAKP,OAAOW,SAASF,EAAQC,GAC5BA,EAGXJ,YAAYG,GACR,aAAaF,KAAKP,OAAOY,MAAMH,GAGnCH,WAAWO,SACDN,KAAKP,OAAOc,KAAKD,GAG3BP,eAAeS,SACLR,KAAKP,OAAOgB,SAASD"}