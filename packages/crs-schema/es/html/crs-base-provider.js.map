{"version":3,"file":"crs-base-provider.js","sources":["../../../src/html/providers/base-provider.js"],"sourcesContent":["export class BaseProvider {\r\n    constructor(parser) {\r\n        this.parser = parser;\r\n    }\r\n\r\n    async dispose() {\r\n        delete this.parser;\r\n    }\r\n\r\n    /**\r\n     * This function will be called for each provider to do some validation checks if the item can be parsed\r\n     * @param item\r\n     */\r\n    async shouldParse(item) {\r\n        return true;\r\n    }\r\n    \r\n    async process(item) {\r\n        if (this.styles != null) {\r\n            item.styles = [];\r\n        }\r\n\r\n        const children = await this.parser.parseChildren(item);\r\n        const attributes = await this.parser.parseAttributes(item);\r\n        const styles = await this.parser.parseStyles(item);\r\n        const content = await this.parser.parseContent(item);\r\n\r\n        return {\r\n            children: children,\r\n            attributes: attributes,\r\n            styles: styles,\r\n            content: content\r\n        }\r\n    }\r\n\r\n    async setValues(str, obj) {\r\n        const keys = Object.keys(obj);\r\n        for (let key of keys) {\r\n            const value = obj[key] != null ? obj[key] : \"\";\r\n            str = str.split(key).join(value);\r\n        }\r\n        return str;\r\n    }\r\n\r\n    async validate(item, errors) {\r\n        if (item.elements != null) {\r\n            for (let element of item.elements) {\r\n                await this.parser.validateItem(element, errors);\r\n            }\r\n        }\r\n    }\r\n\r\n    async assert(callback, errors, message) {\r\n        const failed = (await callback()) == true;\r\n\r\n        if (failed) {\r\n            errors.push(message)\r\n        }\r\n\r\n        return !failed;\r\n    }\r\n}"],"names":["BaseProvider","[object Object]","parser","this","item","styles","children","parseChildren","attributes","parseAttributes","parseStyles","content","parseContent","str","obj","keys","Object","key","value","split","join","errors","elements","element","validateItem","callback","message","failed","push"],"mappings":"AAAO,MAAMA,EACTC,YAAYC,GACRC,KAAKD,OAASA,EAGlBD,uBACWE,KAAKD,OAOhBD,kBAAkBG,GACd,OAAO,EAGXH,cAAcG,GAUV,OATmB,MAAfD,KAAKE,SACLD,EAAKC,OAAS,IAQX,CACHC,eANmBH,KAAKD,OAAOK,cAAcH,GAO7CI,iBANqBL,KAAKD,OAAOO,gBAAgBL,GAOjDC,aANiBF,KAAKD,OAAOQ,YAAYN,GAOzCO,cANkBR,KAAKD,OAAOU,aAAaR,IAUnDH,gBAAgBY,EAAKC,GACjB,MAAMC,EAAOC,OAAOD,KAAKD,GACzB,IAAK,IAAIG,KAAOF,EAAM,CAClB,MAAMG,EAAoB,MAAZJ,EAAIG,GAAeH,EAAIG,GAAO,GAC5CJ,EAAMA,EAAIM,MAAMF,GAAKG,KAAKF,GAE9B,OAAOL,EAGXZ,eAAeG,EAAMiB,GACjB,GAAqB,MAAjBjB,EAAKkB,SACL,IAAK,IAAIC,KAAWnB,EAAKkB,eACfnB,KAAKD,OAAOsB,aAAaD,EAASF,GAKpDpB,aAAawB,EAAUJ,EAAQK,GAC3B,MAAMC,EAA+B,SAAfF,IAMtB,OAJIE,GACAN,EAAOO,KAAKF,IAGRC"}